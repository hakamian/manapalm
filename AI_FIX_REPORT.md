# ๐ ฺฏุฒุงุฑุด ุชุดุฎุต ู ุฑูุน ูุดฺฉู ููุด ูุตููุน

## ๐ ุฎูุงุตู ูุดฺฉู
ุชูุงู ฺฏุฌุชโูุง ููุด ูุตููุน ุฏุฑ ุณุงุช manapalm.com ฺฉุงุฑ ููโฺฉุฑุฏูุฏ.

## ๐ฏ ุนูุช ุงุตู
**API Key ุดูุง ุงุฒ OpenRouter ูููุถ ุดุฏู ุง ูุงูุนุชุจุฑ ุงุณุช.**

### ุฌุฒุฆุงุช ุชุดุฎุต:
```
ุฎุทุง: 401 - User not found
API Key: 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
```

ุงู ุฎุทุง ุจู ุงู ูุนู ุงุณุช ฺฉู OpenRouter ุงู ฺฉูุฏ API ุฑุง ููโุดูุงุณุฏ.

## โ ุฑุงูโุญูโูุง ุงุนูุงู ุดุฏู

### 1. ุงุฌุงุฏ API Route ุฌุฏุฏ ุจุฑุง Next.js
- ูุงู ุฌุฏุฏ: `app/api/proxy/route.ts`
- ุงู ูุงู ุจุง Next.js App Router ุณุงุฒฺฏุงุฑ ุงุณุช
- ูพุดุชุจุงู ฺฉุงูู ุงุฒ TypeScript
- ูฺฉุงูุฒู Fallback ุจู OpenRouter ู Gemini

### 2. ุชุบุฑ ูุฏู ูพุดโูุฑุถ
- **ูุจู**: `google/gemini-2.0-flash-exp:free` (OpenRouter)
- **ุจุนุฏ**: `gemini-1.5-flash` (Google Gemini ูุณุชูู)

### 3. ุจูโุฑูุฒุฑุณุงู ฺฉุงููพูููุชโูุง
ูุงูโูุง ุฒุฑ ุจูโุฑูุฒุฑุณุงู ุดุฏูุฏ:
- โ `services/ai/core.ts` - ุชุบุฑ ูุฏู ูพุดโูุฑุถ
- โ `components/tools/ContentGenerator.tsx` - ุงุณุชูุงุฏู ุงุฒ gemini-1.5-flash
- โ `components/tools/TranscribeTool.tsx` - ุงุณุชูุงุฏู ุงุฒ gemini-1.5-flash
- โ `components/PlantingModal.tsx` - ุชุจุฏู ุจู callProxy

## ๐ ุงูุฏุงูุงุช ูุงุฒู

### ฺฏุฒูู 1: ุงุณุชูุงุฏู ุงุฒ Gemini (ุชูุตู ูโุดูุฏ - ุฑุงฺฏุงู)
ุดูุง ุฏุฑ ุญุงู ุญุงุถุฑ ฺฉ API Key ูุนุชุจุฑ ุงุฒ Gemini ุฏุงุฑุฏ:
```
GEMINI_API_KEY=AIzaSyCtTfiS2C9wFSrt0ZoHklmPSm70pa8WYUk
```

**ุงู ฺฉูุฏ ุฏุฑ ุญุงู ุญุงุถุฑ ูุนุงู ุงุณุช ู ฺฉุงุฑ ูโฺฉูุฏ.**

#### ูุฒุงุง:
- โ ุฑุงฺฏุงู
- โ ุณุฑุน
- โ ูุงุจู ุงุนุชูุงุฏ
- โ ูุญุฏูุฏุช ุฑูุฒุงูู ุจุงูุง

#### ูุนุงุจ:
- โ ูุงุฒ ุจู VPN ุฏุฑ ุงุฑุงู (ุงุญุชูุงูุงู)

### ฺฏุฒูู 2: ุฏุฑุงูุช API Key ุฌุฏุฏ ุงุฒ OpenRouter
ุงฺฏุฑ ูโุฎูุงูุฏ ุงุฒ OpenRouter ุงุณุชูุงุฏู ฺฉูุฏ:

1. ุจู https://openrouter.ai ูุงุฑุฏ ุดูุฏ
2. ฺฉ ุญุณุงุจ ฺฉุงุฑุจุฑ ุฌุฏุฏ ุจุณุงุฒุฏ ุง ูุงุฑุฏ ุดูุฏ
3. ุงุฒ ุจุฎุด Keys ฺฉ API Key ุฌุฏุฏ ุจฺฏุฑุฏ
4. ุฏุฑ ูุงู `.env` ูุฑุงุฑ ุฏูุฏ:
   ```
   OPENROUTER_API_KEY=sk-or-v1-YOUR-NEW-KEY-HERE
   ```

#### ูุฒุงุง:
- โ ุฏุณุชุฑุณ ุจู ูุฏูโูุง ูุฎุชูู
- โ ุจุฑุฎ ูุฏูโูุง ุฑุงฺฏุงู ูุณุชูุฏ
- โ ุจุฏูู ูุงุฒ ุจู VPN

#### ูุนุงุจ:
- โ ูุญุฏูุฏุช ุงุณุชูุงุฏู ุฏุฑ ูุณุฎู ุฑุงฺฏุงู
- โ ููฺฉู ุงุณุช ูุงุฒ ุจู ูพุฑุฏุงุฎุช ุจุงุดุฏ

### ฺฏุฒูู 3: ุงุณุชูุงุฏู ุชุฑฺฉุจ (ูพุดููุงุฏ ูุง)
ุงุฒ ูุฑ ุฏู ุณุฑูุณ ุงุณุชูุงุฏู ฺฉูุฏ:
- **Gemini**: ุจุฑุง ุนููุงุชโูุง ูุนููู
- **OpenRouter**: ุจุฑุง ูุฏูโูุง ุฎุงุต ุง ุฒูุงู ฺฉู Gemini ุฏุฑ ุฏุณุชุฑุณ ูุณุช

## ๐ ุชูุธูุงุช Vercel

ูุทูุฆู ุดูุฏ ฺฉู ูุชุบุฑูุง ูุญุท ุฒุฑ ุฏุฑ Vercel ุชูุธู ุดุฏูโุงูุฏ:

```bash
# Supabase
VITE_SUPABASE_URL=https://sbjrayzghjfsmmuygwbw.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# AI Providers
GEMINI_API_KEY=AIzaSyCtTfiS2C9wFSrt0ZoHklmPSm70pa8WYUk
OPENROUTER_API_KEY=<ฺฉูุฏ ุฌุฏุฏ ุดูุง>

# Payment
ZARINPAL_MERCHANT_ID=00000000-0000-0000-0000-000000000000
ZARINPAL_SANDBOX=true
```

### ูุญูู ุชูุธู ุฏุฑ Vercel:
1. ุจู ุฏุงุดุจูุฑุฏ Vercel ุจุฑูุฏ
2. ูพุฑูฺู manapalm ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
3. Settings โ Environment Variables
4. ูุชุบุฑูุง ุจุงูุง ุฑุง ุงุถุงูู ฺฉูุฏ
5. Redeploy ฺฉูุฏ

## ๐งช ุชุณุช ฺฉุฑุฏู

### ุชุณุช ูุญู:
```bash
# ุงุทููุงู ุงุฒ ุงุฌุฑุง ุณุฑูุฑ
npm run next:dev

# ุชุณุช API
node test-gemini.js
```

### ุชุณุช ุฏุฑ Production:
1. ุจู https://manapalm.com ุจุฑูุฏ
2. ฺฉ ุงุฒ ุงุจุฒุงุฑูุง ููุด ูุตููุน ุฑุง ุจุงุฒ ฺฉูุฏ (ูุซูุงู ุฏุณุชุงุฑ ููุณูุฏู ูุนูุง)
3. ฺฉ ุฏุฑุฎูุงุณุช ุงุฑุณุงู ฺฉูุฏ
4. ุจุงุฏ ูพุงุณุฎ ุฏุฑุงูุช ฺฉูุฏ

## ๐ง ูุงูโูุง ุชุณุช ุงุฌุงุฏ ุดุฏู

ุจุฑุง ุชุณุช ู ุฏุจุงฺฏ:
- `test-ai-connection.html` - ุตูุญู ุชุณุช ฺฉุงูู ุฏุฑ ูุฑูุฑฺฏุฑ
- `test-gemini.js` - ุชุณุช ุณุงุฏู Gemini API
- `test-openrouter-direct.js` - ุชุณุช ูุณุชูู OpenRouter
- `test-api.js` - ุชุณุช ฺฉุงูู ูุฑ ุฏู ุณุฑูุณ

## ๐ ูุถุนุช ูุนู

| ฺฉุงููพูููุช | ูุถุนุช | ูุฏู ุงุณุชูุงุฏู ุดุฏู |
|----------|-------|------------------|
| ContentGenerator | โ ุขูุงุฏู | gemini-1.5-flash |
| TranscribeTool | โ ุขูุงุฏู | gemini-1.5-flash |
| PlantingModal | โ ุขูุงุฏู | gemini-1.5-flash |
| ุณุงุฑ ุงุจุฒุงุฑูุง | โ๏ธ ูุงุฒ ุจู ุจุฑุฑุณ | ูุชูุงูุช |

## โก ุงูุฏุงูุงุช ููุฑ

1. **Deploy ฺฉูุฏ**:
   ```bash
   git add .
   git commit -m "fix: Replace invalid OpenRouter key with Gemini"
   git push
   ```

2. **ูุชุบุฑูุง Vercel ุฑุง ุจุฑุฑุณ ฺฉูุฏ**:
   - ูุทูุฆู ุดูุฏ `GEMINI_API_KEY` ุฏุฑ Vercel ุชูุธู ุดุฏู

3. **ุชุณุช ฺฉูุฏ**:
   - ุจุนุฏ ุงุฒ deployุ ุณุงุช ุฑุง ุชุณุช ฺฉูุฏ

## ๐ฏ ุชูุตู ููุง

**ุงุฒ Gemini ุงุณุชูุงุฏู ฺฉูุฏ** ฺูู:
- โ ฺฉูุฏ ูุนุชุจุฑ ุฏุงุฑุฏ
- โ ุฑุงฺฏุงู ุงุณุช
- โ ุณุฑุน ู ูุงุจู ุงุนุชูุงุฏ ุงุณุช
- โ ูุญุฏูุฏุช ุฑูุฒุงูู ุจุงูุง ุฏุงุฑุฏ (1500 ุฏุฑุฎูุงุณุช ุฏุฑ ุฑูุฒ)

ุงฺฏุฑ ุฏุฑ ุขูุฏู ูุงุฒ ุจู OpenRouter ุฏุงุดุชุฏุ ูโุชูุงูุฏ ฺฉ ฺฉูุฏ ุฌุฏุฏ ุฏุฑุงูุช ฺฉูุฏ.

---

**ุชุงุฑุฎ**: 2025-12-21
**ูุถุนุช**: โ ูุดฺฉู ุดูุงุณุง ู ุฑูุน ุดุฏ
**ุงูุฏุงู ุจุนุฏ**: Deploy ู ุชุณุช
