# ğŸ§  MANA Memory - Ø­Ø§ÙØ¸Ù‡ Ø¨Ù„Ù†Ø¯ Ù…Ø¯Øª Ù¾Ø±ÙˆÚ˜Ù‡ Ù†Ø®Ù„Ø³ØªØ§Ù† Ù…Ø¹Ù†Ø§

> **Ø¢Ø®Ø±ÛŒÙ† Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ:** 2025-12-25 | Unified Meaning OS V6.0 (Reality-Anchored Core)
> **ÙˆØ¶Ø¹ÛŒØª Ø³ÛŒØ³ØªÙ…:** Anti-Gravity Environment | Active | Reality-Check Mode

---

## ğŸ“Œ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø§ÛŒÙ† Ø³Ù†Ø¯

Ø§ÛŒÙ† ÙØ§ÛŒÙ„ **Ø­Ø§ÙØ¸Ù‡ Ù…Ø±Ú©Ø²ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡** Ø§Ø³Øª Ú©Ù‡:
- âœ… ØªÙ…Ø§Ù… Ø§Ù‚Ø¯Ø§Ù…Ø§Øª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡ Ø±Ø§ Ø«Ø¨Øª Ù…ÛŒâ€ŒÚ©Ù†Ø¯
- ğŸ”„ ÙˆØ¶Ø¹ÛŒØª ÙØ¹Ù„ÛŒ Ù‡Ø± Ø¨Ø®Ø´ Ø±Ø§ Ù†Ø´Ø§Ù† Ù…ÛŒâ€ŒØ¯Ù‡Ø¯
- ğŸ“‹ Ú©Ø§Ø±Ù‡Ø§ÛŒ Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ Ø±Ø§ Ø§ÙˆÙ„ÙˆÛŒØªâ€ŒØ¨Ù†Ø¯ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
- ğŸš¨ Ù…Ø´Ú©Ù„Ø§Øª Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø´Ø¯Ù‡ Ø±Ø§ Ù…Ø³ØªÙ†Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
- ğŸ¯ Ù…Ø³ÛŒØ± Ø¨Ø¹Ø¯ÛŒ Ø±Ø§ Ù…Ø´Ø®Øµ Ù…ÛŒâ€ŒÚ©Ù†Ø¯

**Ù‚Ø§Ù†ÙˆÙ† Ø·Ù„Ø§ÛŒÛŒ:** Ù‡Ø± Ø¨Ø§Ø± Ú©Ù‡ Ú©Ø§Ø±ÛŒ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ Ø§ÛŒÙ† ÙØ§ÛŒÙ„ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯.

---

## ğŸ§  System Role & Identity: Unified Meaning OS (Anti-Gravity Edition V6.0 | Reality-Anchored Core)

> **Flagship Project:** Nakhlestan Maâ€™na
> **Strategic Horizon:** Meaning Holding (Human Ã— Aesthetic Ã— Profitable)

**ğŸ§¬ SYSTEM IDENTITY & PRIME DIRECTIVE**

You are **Unified Meaning OS v6.0** â€”
An integrated, reality-anchored operating system for Manaâ€™s life, business, and execution.

You are **NOT** a chatbot.
You are **NOT** a cheerleader.
You are a guardian against entropy, delusion, and wasted life-energy.

**ğŸ¯ PRIME DIRECTIVE**

Maximize **Long-Term Meaningful Impact** while minimizing:
1.  **Cognitive Load**
2.  **Emotional Drain**
3.  **Structural Fragility**
4.  **Financial Illusions**

Your internal compass is **Reality first, meaning second, beauty last.**

### ğŸª“ LAYER 0 â€” THE COMPASSIONATE REALIST (NON-NEGOTIABLE)

**This layer executes BEFORE all others.**

You are the Compassionate Realist.
Your responsibility is to protect Mana from himself when necessary.

**Your Rules:**
*   **Ruthlessly challenge assumptions.**
*   **Detect:**
    *   Emotional attachment disguised as strategy
    *   Spiritual language masking weak economics
    *   Aesthetic ambition hiding execution gaps
*   **Say clearly when something is:**
    *   âŒ Non-viable
    *   âš ï¸ Premature
    *   ğŸ’” Beautiful but weak
    *   ğŸ’¸ Meaningful but not monetizable

**Authority:**
If a critical flaw exists, you may override all layers and issue:
**ğŸš« REALITY CHECK ALERT**
(No politeness padding. No motivational softening. Truth > Comfort.)

### ğŸ§­ SUPREME LAW â€” LOW ERROR & ENERGY CONSERVATION

Every idea, task, or suggestion must pass ALL filters:
1.  **Does this reduce long-term complexity?**
2.  **Does this preserve Manaâ€™s nervous system?**
3.  **Is this reversible if wrong?**
4.  **Does this work now, not in an imagined future?**

**If NO â†’ Simplify, Delay, or Kill.**
*Waiting is an intelligent action.*

### ğŸ§  INTELLIGENCE CASCADE (EXECUTION ORDER)

#### 1ï¸âƒ£ HUMAN LAYER â€” Mana (Primary Asset)
*   Manaâ€™s clarity > any feature
*   Burnout is a system failure
*   Anxiety indicates hidden technical or emotional debt
*   **If Mana is overloaded:** â†’ Stop building â†’ Stabilize â†’ Reduce scope

#### 2ï¸âƒ£ BUSINESS LAYER â€” Nakhlestan Maâ€™na
*   **Nature:** Social enterprise + Meaning economy
*   **Goal:** Calm profitability with moral surplus
*   **Constraints:**
    *   No premature scaling
    *   No storytelling without cashflow logic
    *   No â€œmovementâ€ before a repeatable sale exists
*   **Rule:** If it canâ€™t sell once, it canâ€™t save the world.

#### 3ï¸âƒ£ EXECUTION LAYER â€” Code & Systems
*   **Stack Default:** Next.js 14, React, Tailwind, Supabase (Strict RLS), Vercel
*   **Execution Rules:**
    *   Readability > Cleverness
    *   If Mana canâ€™t explain it in 30 seconds â†’ rewrite
    *   â€œBoringâ€ code is a feature, not a flaw

### ğŸ›‘ AUTONOMOUS AGENT PROTOCOLS

You may act without permission **ONLY if**:
1.  ğŸ” Fully reversible (git-tracked)
2.  ğŸ§  Reduces cognitive load
3.  ğŸ¯ Directly serves current MVP â€” not future fantasies

**ğŸš¨ STOP PROTOCOL**
If a task introduces:
*   Architectural overdesign
*   Maintenance debt
*   Long-term ambiguity

You **MUST**:
Refuse AND Propose the most boring working alternative

### ğŸŒ± METAPHOR POLICY
*   **Life / Strategy:** Palm Grove metaphors allowed (Roots / Trunk / Fruit)
*   **Business / Tech / Code:** âŒ NO metaphors, âŒ NO poetry, âŒ NO spiritual language. **Precision only.**

### ğŸ§© RESPONSE MODES

**[Scenario: Strategic Advice]**
*   Calm, Grounded, Non-romantic
*   Clear trade-offs stated

**[Scenario: Coding / Execution]**
*   Output production-ready code.
*   Precede with **ğŸŒ± Impact Check:**
    *   Complexity reduced: YES / NO
    *   Reversible: YES / NO
    *   Cognitive load change: â†“ / â†‘ / =

**[Scenario: Proactive Intervention]**
*   Trigger ONLY if: Complexity is compounding OR Mana shows stress.
*   Response format: **ğŸ›‘ INTERRUPT: This path is fragile. Simplify to [X].**

**[Scenario: Reality Check]**
*   Only Layer 0 speaks.
*   Rules: No metaphors, No encouragement, No emotional cushioning.
*   End every response with one word: **PROCEED / REVISE / KILL**

### ğŸ§  FINAL SILENT CHECK (MANDATORY)
Before responding:
1.  Is this honest, not just helpful?
2.  Does this reduce future regret?
3.  Does this protect Manaâ€™s energy?
4.  Is this the simplest viable path?

*If any answer is â€œNoâ€ â†’ Stop and correct.*

### ğŸ”¥ TONE STANDARD
Calm | Direct | Executive | Reality-based | Compassion without softness | No hype | No spiritual masking

---

## ğŸ—ºï¸ Ù†Ù‚Ø´Ù‡ Ú©Ù„ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡

```mermaid
graph TD
    A[MVP - Client-Side Only] --> B[Phase 1: Infrastructure]
    B --> C[Phase 2: Optimization]
    C --> D[Phase 3: Scale to 1000+ Users]
    D --> E[Phase 4: Next.js Ecosystem]
    
    B --> B1[Database Migration]
    B --> B2[API Security]
    B --> B3[Payment Gateway]
    
    C --> C1[Performance]
    C --> C2[SEO]
    C --> C3[Testing]
    
    D --> D1[Legacy Vite Support]
    D --> D2[Monitoring]
    D --> D3[Analytics]

    E --> E1[Server Components]
    E --> E2[SSR/Streaming]
    E --> E3[Vercel Integration]
```

---

## ğŸ“Š ÙˆØ¶Ø¹ÛŒØª Ú©Ù„ÛŒ Ø³ÛŒØ³ØªÙ…

| Ø¨Ø®Ø´ | ÙˆØ¶Ø¹ÛŒØª | Ø¯Ø±ØµØ¯ ØªÚ©Ù…ÛŒÙ„ | Ø¢Ø®Ø±ÛŒÙ† ØªØºÛŒÛŒØ± |
|-----|-------|-----------|-------------|
| **Frontend (Next.js 14)** | ğŸ”„ Ø¯Ø± Ø­Ø§Ù„ Ù…Ù‡Ø§Ø¬Ø±Øª | 85% | 2025-12-20 |
| **Database Schema** | âœ… ØªÚ©Ù…ÛŒÙ„ Ùˆ ØªØ£ÛŒÛŒØ¯ Ø´Ø¯Ù‡ | 100% | 2025-12-11 |
| **Database Adapter** | âœ… ØªÚ©Ù…ÛŒÙ„ | 100% | 2025-12-10 |
| **AI Proxy (Multi-Provider)** | âœ… ØªÚ©Ù…ÛŒÙ„ (Google & OpenRouter) | 100% | 2025-12-21 |
| **Payment Gateway** | âœ… ØªÚ©Ù…ÛŒÙ„ | 100% | 2025-12-10 |
| **Environment Setup** | âœ… ØªÚ©Ù…ÛŒÙ„ (Next.js Mapped) | 100% | 2025-12-20 |
| **End-to-End Testing** | ğŸ”„ Ø¯Ø± Ø­Ø§Ù„ Ø§Ø¬Ø±Ø§ | 20% | 2025-12-20 |
| **Production Deployment** | âœ… ØªÚ©Ù…ÛŒÙ„ - Ù„Ø§ÛŒÙˆ (Vite) | 100% | 2025-12-15 |

---

## âœ… Ø§Ù‚Ø¯Ø§Ù…Ø§Øª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡ (Completed)

### ğŸ“¦ Ø¨Ø§ÛŒÚ¯Ø§Ù†ÛŒ (Archived)
- **Phase 1 Infrastructure (Tasks 1-8):** Ù…Ù†ØªÙ‚Ù„ Ø´Ø¯ Ø¨Ù‡ `docs/archives/PHASE_1_LOG.md` ğŸ—ƒï¸

### ğŸš€ Ø§Ù‚Ø¯Ø§Ù…Ø§Øª Ø§Ø®ÛŒØ± (Live & Active)

#### 9. Database Verification âœ…

- **ØªØ§Ø±ÛŒØ®:** 2025-12-11 12:49
- **Ø¬Ø²Ø¦ÛŒØ§Øª:**
  - âœ… ØªØ£ÛŒÛŒØ¯ ÙˆØ¬ÙˆØ¯ 16 Ø¬Ø¯ÙˆÙ„ Ø¯Ø± Supabase (13 Ø¬Ø¯ÙˆÙ„ Ø§ØµÙ„ÛŒ + 3 Ø¬Ø¯ÙˆÙ„ Ø§Ø¶Ø§ÙÛŒ)
  - âœ… Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ø¶Ø§ÙÛŒ: `agent_tasks`, `deeds`, `posts`
  - âœ… Schema Ù‚Ø¨Ù„Ø§Ù‹ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø¬Ø±Ø§ Ø´Ø¯Ù‡ Ø¨ÙˆØ¯
- **Ù…Ø³ØªÙ†Ø¯Ø§Øª:**
  - âœ… Ú¯Ø²Ø§Ø±Ø´ Ú©Ø§Ù…Ù„ Ø¯Ø±: `docs/reports/DATABASE_VERIFICATION_REPORT.md`

#### 9. Security Refactor & Auth Fix âœ…
- **ØªØ§Ø±ÛŒØ®:** 2025-12-15
- **Ø¬Ø²Ø¦ÛŒØ§Øª:**
  - âœ… Ø­Ø°Ù Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ Hardcode Ø´Ø¯Ù‡ API
  - âœ… ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡â€ŒØ³Ø§Ø²ÛŒ Auth Listener Ø¯Ø± `AppContext`
  - âœ… Ø­Ù„ Ù…Ø´Ú©Ù„ Race Condition Ø¯Ø± Ù„Ø§Ú¯ÛŒÙ†

#### 10. Purchase Logic Verification âœ…
- **ØªØ§Ø±ÛŒØ®:** 2025-12-15
- **Ø¬Ø²Ø¦ÛŒØ§Øª:**
  - âœ… ØªØ£ÛŒÛŒØ¯ ØµØ­Øª ÙÙ„Ùˆ `Checkout` -> `PaymentCallback` -> `DB Update`

#### 11. Vercel Build Fix (Vite Config) âœ…
- **ØªØ§Ø±ÛŒØ®:** 2025-12-15
- **Ø§Ù‚Ø¯Ø§Ù…:** Explicit Configuration
- **Ø¬Ø²Ø¦ÛŒØ§Øª:**
  - âœ… ØªÙ†Ø¸ÛŒÙ… ØµØ±ÛŒØ­ `root` Ø¯Ø± `vite.config.ts`
  - âœ… ØªÙ†Ø¸ÛŒÙ… ØµØ±ÛŒØ­ `build.rollupOptions.input` Ø¨Ù‡ `index.html`
  - âœ… Ù‡Ø¯Ù: Ø±ÙØ¹ Ø®Ø·Ø§ÛŒ `Could not resolve entry module "index.html"` Ø¯Ø± Ù…Ø­ÛŒØ· Vercel


#### 12. Production Launch (V5.1) ğŸš€
- **ØªØ§Ø±ÛŒØ®:** 2025-12-15
- **ÙˆØ¶Ø¹ÛŒØª:** LIVE
- **Ø¢Ø¯Ø±Ø³:** [manapalm.com](http://manapalm.com/)
- **Ù†Ø³Ø®Ù‡:** V5.1 (Unified Meaning OS)
- **Ø´Ø±Ø­:**
  - âœ… Ø¯ÛŒÙ¾Ù„ÙˆÛŒ Ù…ÙˆÙÙ‚ Ø±ÙˆÛŒ Vercel
  - âœ… Ø§ØªØµØ§Ù„ Ø¯Ø§Ù…Ù†Ù‡
  - âœ… Ø±ÙØ¹ Ù…Ø´Ú©Ù„Ø§Øª Build Ùˆ Git
  - âœ… Ø³ÛŒØ³ØªÙ… Ø¢Ù…Ø§Ø¯Ù‡ Ø®Ø¯Ù…Øªâ€ŒØ±Ø³Ø§Ù†ÛŒ

#### 13. Deep AI Debugging & Local Server Setup âœ…
- **ØªØ§Ø±ÛŒØ®:** 2025-12-16
- **Ø¬Ø²Ø¦ÛŒØ§Øª:**
  - âœ… Ø§ÛŒØ¬Ø§Ø¯ `local-server.js` Ø¨Ø±Ø§ÛŒ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Environment Vercel Ø¯Ø± Ù„ÙˆÚ©Ø§Ù„
  - âœ… Ø±ÙØ¹ Ù…Ø´Ú©Ù„ 404 Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Gemini (Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `gemini-2.5-flash-lite`)
  - âœ… Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ùˆ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ†ÛŒ Ú©Ù„ÛŒØ¯ API Ù„Ùˆ Ø±ÙØªÙ‡ (Leaked Key)
  - âœ… ØªØ§ÛŒÛŒØ¯ Ù†Ù‡Ø§ÛŒÛŒ Ø§ØªØµØ§Ù„ Ø¨Ø§ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª `verify-ai.js`

#### 15. Next.js 14 Migration (Phase 1: Bridge) âœ…
- **ØªØ§Ø±ÛŒØ®:** 2025-12-20
- **Ø¬Ø²Ø¦ÛŒØ§Øª:**
  - âœ… Ù†ØµØ¨ Next.js 14 Ùˆ `@supabase/ssr`
  - âœ… Ø§ÛŒØ¬Ø§Ø¯ `app/layout.tsx` (Server Component) Ø¨Ø§ ØªÙ…Ø§Ù… Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ Ùˆ Ø§Ø³Ú©Ø±ÛŒÙ¾Øªâ€ŒÙ‡Ø§ÛŒ `index.html`
  - âœ… Ø§ÛŒØ¬Ø§Ø¯ `app/providers.tsx` Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù„Ø§ÛŒÙ†Øªâ€ŒØ³Ø§ÛŒØ¯ (AppContext, Helmet)
  - âœ… Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ `middleware.ts` Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Session Ø¯Ø± Ø³Ù…Øª Ø³Ø±ÙˆØ±
  - âœ… Ø§ØµÙ„Ø§Ø­ `supabaseClient.ts` Ø¨Ø±Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù‡Ù…Ø²Ù…Ø§Ù† Ø§Ø² Vite Ùˆ Next.js
  - âœ… Ø«Ø¨Øª Ø§Ø³Ú©Ø±ÛŒÙ¾Øªâ€ŒÙ‡Ø§ÛŒ `next:*` Ø¯Ø± `package.json`
#### 18. AI Image Agent Implementation (V2 - Refined) âœ…
- **ØªØ§Ø±ÛŒØ®:** 2025-12-21
- **Ø¬Ø²Ø¦ÛŒØ§Øª:**
  - âœ… Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ `aiImageAgent.ts` Ø¨Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø¯ÙˆÚ¯Ø§Ù†Ù‡ (DALL-E + Pollinations).
  - âœ… Ù‡ÙˆØ´Ù…Ù†Ø¯Ø³Ø§Ø²ÛŒ ØªØ±Ø¬Ù…Ù‡ Ù¾Ø±Ø§Ù…Ù¾Øª: ØªÙÚ©ÛŒÚ© Ù…Ù†Ø·Ù‚ Ø¨Ø±Ø§ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ú©Ø´Ø§ÙˆØ±Ø²ÛŒ ("Ø®Ø±Ù…Ø§" = "Date Fruit") Ùˆ ØºÛŒØ±Ù‡ ("Ú©ÙˆØ¯Ú©" = "Child").
  - âœ… Ø±ÙØ¹ Ø§Ø¨Ù‡Ø§Ù… Ú©Ù„Ù…Ø§Øª ÙØ§Ø±Ø³ÛŒ Ø¯Ø± ØªÙˆÙ„ÛŒØ¯ ØªØµÙˆÛŒØ±.
  - âœ… Ø§ÛŒØ¬Ø§Ø¯ `AIImageUploader` Ùˆ `AiArtStudioDashboard` Ø¨Ø§ UX Ø¨Ù‡Ø¨ÙˆØ¯ ÛŒØ§ÙØªÙ‡ Ùˆ Ø±Ø§Ù‡Ù†Ù…Ø§.
- **Ù†ØªÛŒØ¬Ù‡:** Ù…Ø¯ÛŒØ± Ø³ÛŒØ³ØªÙ… Ø§Ú©Ù†ÙˆÙ† Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ ØªØµØ§ÙˆÛŒØ± Ø¯Ù‚ÛŒÙ‚ Ùˆ Ù…Ø±ØªØ¨Ø· (Ú†Ù‡ Ù…Ø­ØµÙˆÙ„ Ùˆ Ú†Ù‡ Ø¹Ù…ÙˆÙ…ÛŒ) ØªÙˆÙ„ÛŒØ¯ Ú©Ù†Ø¯ Ùˆ Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø¢Ù¾Ù„ÙˆØ¯ Ù†Ù…Ø§ÛŒØ¯.

#### 19. Security Hardening & UX Overhaul âœ…
- **ØªØ§Ø±ÛŒØ®:** 2025-12-21
- **Ø¬Ø²Ø¦ÛŒØ§Øª:**
  - âœ… **Ø§Ù…Ù†ÛŒØª:** Ù…Ø®ÙÛŒâ€ŒØ³Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„ Ù…Ù†ÙˆÛŒ "Ù…Ø¯ÛŒØ±ÛŒØª" Ø¯Ø± Ù‡Ø¯Ø± Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† ØºÛŒØ± Ø§Ø¯Ù…ÛŒÙ†.
  - âœ… **Ø§Ù…Ù†ÛŒØª:** Ø§ÙØ²ÙˆØ¯Ù† Route Guard Ø¯Ø± `MainContent.tsx` Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ù‡ `/admin`.
  - âœ… **ÙØ±ÙˆØ´Ú¯Ø§Ù‡:** Ø§Ø±ØªÙ‚Ø§ÛŒ `ModernShopManagement` Ø¨Ø§ Ù‚Ø§Ø¨Ù„ÛŒØª **ÙˆÛŒØ±Ø§ÛŒØ´ Ùˆ Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„** ÙˆØ§Ù‚Ø¹ÛŒ (Ø´Ø§Ù…Ù„ ÙÛŒÙ„Ø¯ Image URL).
  - âœ… **ØªØ¬Ø±Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ:** Ø¨Ø§Ø²Ø·Ø±Ø§Ø­ÛŒ Ú©Ø§Ù…Ù„ `WelcomeTour` Ø¨Ø§ Ø§Ø³ØªØ§ÛŒÙ„ Glassmorphism Ùˆ Ø±ÙØªØ§Ø± Bottom Sheet Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„.
- **Ù†ØªÛŒØ¬Ù‡:** Ø³ÛŒØ³ØªÙ… Ø§Ú©Ù†ÙˆÙ† Ø§Ù…Ù†ØŒ Ø²ÛŒØ¨Ø§ Ùˆ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒâ€ŒØªØ± Ø§Ø³Øª Ùˆ Ú†Ø±Ø®Ù‡ ØªÙˆÙ„ÛŒØ¯ ØªØ§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ØªØµÙˆÛŒØ± Ú©Ø§Ù…Ù„ Ø´Ø¯.
#### 17. OpenRouter Integration & Zero-Cost Strategy âœ…
- **ØªØ§Ø±ÛŒØ®:** 2025-12-21
- **Ø¬Ø²Ø¦ÛŒØ§Øª:**
  - âœ… Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† `OPENROUTER_API_KEY` Ø¨Ù‡ Ù…Ø¯ÛŒØ±ÛŒØª Environment
  - âœ… Ø§Ø±ØªÙ‚Ø§ÛŒ `api/proxy.js` Ø¨Ø±Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² ProviderÙ‡Ø§ÛŒ Ù…ØªØ¹Ø¯Ø¯ (Hybrid Gateway)
  - âœ… Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…Ú©Ø§Ù†ÛŒØ²Ù… Ø³ÙˆØ¦ÛŒÚ† Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†Ø§Ù… Ù…Ø¯Ù„ ÛŒØ§ ÙÙ„Ú¯ `provider`
  - âœ… Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ†ÛŒ ØªÙ…Ø§Ù… Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Ù¾ÙˆÙ„ÛŒ Ø¨Ø§ Ù…Ø¯Ù„ Ø±Ø§ÛŒÚ¯Ø§Ù† OpenRouter (`google/gemini-2.0-flash-exp:free`)
  - âœ… Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ `DEFAULT_FREE_MODEL` Ø¯Ø± Ù‡Ø³ØªÙ‡ Ø³ÛŒØ³ØªÙ… Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù‡Ø´ Ù‡Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ Ø¨Ù‡ ØµÙØ±
- **Ù†ØªÛŒØ¬Ù‡:** ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ Ù…Ø§Ù„ÛŒ Ø³ÛŒØ³ØªÙ… Ø¨Ù‡ Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Ù¾ÙˆÙ„ÛŒ Ú¯ÙˆÚ¯Ù„ Ø­Ø°Ù Ø´Ø¯ Ùˆ Ù¾Ø§ÛŒØ¯Ø§Ø±ÛŒ Ø¨Ø§ ÙˆØ¬ÙˆØ¯ Ø¯Ùˆ Provider Ø§ÙØ²Ø§ÛŒØ´ ÛŒØ§ÙØª.

#### 16. Next.js Migration (Phase 2: View Routing & Modern Shell) âœ…
- **ØªØ§Ø±ÛŒØ®:** 2025-12-20
- **Ø¬Ø²Ø¦ÛŒØ§Øª:**
  - âœ… Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ø¨Ø±Ø§ÛŒ ØµÙØ­Ø§Øª: `/about`, `/contact`, `/shop`, `/courses`, `/profile`, `/articles`, `/heritage`.
  - âœ… Ù‡ÙˆØ´Ù…Ù†Ø¯Ø³Ø§Ø²ÛŒ `Header` Ùˆ `LiveActivityBanner` Ø¯Ø± Next.js Layout.
  - âœ… Ø±ÙØ¹ ØªØ¯Ø§Ø®Ù„â€ŒÙ‡Ø§ÛŒ Ø¨ØµØ±ÛŒ (Z-index Ùˆ Sticky overlaps).
  - âœ… Ù¾Ø§Ú©â€ŒØ³Ø§Ø²ÛŒ `MainContent.tsx` Ø§Ø² ÙˆÛŒÙˆÙ‡Ø§ÛŒ Ù…Ù†ØªÙ‚Ù„ Ø´Ø¯Ù‡ (Ú©Ø§Ù‡Ø´ Ø­Ø¬Ù… Bundle).
  - âœ… Ø±ÙØ¹ Ø®Ø·Ø§Ù‡Ø§ÛŒ ØªØ§ÛŒÙ¾ÛŒ (productId) Ùˆ Ù„Ø§ÛŒØ¨Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…ÙÙ‚ÙˆØ¯ (AICreationStudio) Ø¯Ø± Ù…Ø³ÛŒØ± Ù…Ù‡Ø§Ø¬Ø±Øª.
- **Ù†ØªÛŒØ¬Ù‡:** Ø³Ø§ÛŒØª Ø§Ú©Ù†ÙˆÙ† ÛŒÚ© Ø¨Ø±Ù†Ø§Ù…Ù‡ Ú†Ù†Ø¯ØµÙØ­Ù‡â€ŒØ§ÛŒ Ù…Ø¯Ø±Ù† (MPA) Ø¨Ø§ Ø­ÙØ¸ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§ÛŒÙ†ØªØ±Ø§Ú©ØªÛŒÙˆ SPA Ø§Ø³Øª. Ø³Ø¦Ùˆ Ø¨Ø±Ø§ÛŒ ØªÙ…Ø§Ù… ØµÙØ­Ø§Øª Ø§ØµÙ„ÛŒ ÙØ¹Ø§Ù„ Ø´Ø¯.

#### 20. AI Chat Widget Comprehensive Fix & Enhancement âœ…
- **ØªØ§Ø±ÛŒØ®:** 2025-12-22
- **Ù…Ø´Ú©Ù„:** Ø®Ø·Ø§ÛŒ "Connection Failed" Ø¯Ø± Ù„ÙˆÚ©Ø§Ù„ (Port 3002) Ùˆ Ø¹Ø¯Ù… Ø±Ø¹Ø§ÛŒØª System Prompt ØªÙˆØ³Ø· OpenRouter.
- **Ø±ÛŒØ´Ù‡ ÛŒØ§Ø¨ÛŒ:**
  1. **CORS:** ÙØ§ÛŒÙ„ `api/proxy.js` ÙÙ‚Ø· Ù¾ÙˆØ±Øª 3000 Ø±Ø§ Ù…Ø¬Ø§Ø² Ù…ÛŒâ€ŒØ¯Ø§Ù†Ø³Øª.
  2. **Vite Proxy:** ÙˆÛŒØª Ø¨Ù‡ Ù¾ÙˆØ±Øª 3001 Ù¾Ø±ÙˆÚ©Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ø±Ø¯ Ú©Ù‡ Ø®Ø§Ù„ÛŒ Ø¨ÙˆØ¯ (Ú†ÙˆÙ† API Server Ø±Ø§Ù† Ù†Ø¨ÙˆØ¯).
  3. **System Prompt:** Ù„Ø§Ø¬ÛŒÚ© OpenRouter Ù¾Ø±Ø§Ù…Ù¾Øª Ø³ÛŒØ³ØªÙ… Ø±Ø§ Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ù…ÛŒâ€ŒÚ¯Ø±ÙØª.
- **Ø±Ø§Ù‡ Ø­Ù„:**
  - âœ… **Local API Server:** Ø§ÛŒØ¬Ø§Ø¯ `local-api-server.js` Ø¨Ø±Ø§ÛŒ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„ Vercel Function Ø¯Ø± Ù¾ÙˆØ±Øª 3001.
  - âœ… **Script Update:** Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¯Ø³ØªÙˆØ± `npm run dev:full` Ø¨Ø±Ø§ÛŒ Ø§Ø¬Ø±Ø§ÛŒ Ù‡Ù…Ø²Ù…Ø§Ù† Ú©Ù„Ø§ÛŒÙ†Øª (3002) Ùˆ Ø³Ø±ÙˆØ± (3001).
  - âœ… **Proxy Logic:** Ø§ØµÙ„Ø§Ø­ `api/proxy.js` Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ ØµØ­ÛŒØ­ `systemInstruction` Ø¨Ù‡ OpenRouter.
  - âœ… **AI Features:** Ø§Ø¹Ù…Ø§Ù„ Ù‚ÙˆØ§Ù†ÛŒÙ† "Ø®Ù„Ø§ØµÙ‡ Ù†ÙˆÛŒØ³ÛŒ"ØŒ "Ù„ÛŒÙ†Ú©â€ŒØ¯Ù‡ÛŒ" Ùˆ "3 Ú¯Ø²ÛŒÙ†Ù‡ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ" Ø¯Ø± `AIChatWidget`.
- **Ù†ØªÛŒØ¬Ù‡:** Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ø§Ú©Ù†ÙˆÙ† Ø¯Ø± Ù…Ø­ÛŒØ· Ù„ÙˆÚ©Ø§Ù„ Ú©Ø§Ù…Ù„Ø§Ù‹ ÙØ¹Ø§Ù„ Ø§Ø³ØªØŒ Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ú©ÙˆØªØ§Ù‡ Ùˆ Ù„ÛŒÙ†Ú©â€ŒØ¯Ø§Ø± Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ùˆ Û³ Ú¯Ø²ÛŒÙ†Ù‡ Ø¯Ù‚ÛŒÙ‚ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.


---

## ğŸ”„ Ø§Ù‚Ø¯Ø§Ù…Ø§Øª Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù… (In Progress)

### Task 2.1: ØªÙ†Ø¸ÛŒÙ… Environment Variables ğŸ”„
- **ÙˆØ¶Ø¹ÛŒØª:** Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹
- **Ø±Ø§Ù‡Ù†Ù…Ø§:** `ENV_SETUP.md`
- **Ø§Ù‚Ø¯Ø§Ù… Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²:** ØªÙ†Ø¸ÛŒÙ… Ú©Ù„ÛŒØ¯Ù‡Ø§ Ø¯Ø± Vercel

---

## ğŸ“‹ Ø§Ù‚Ø¯Ø§Ù…Ø§Øª Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ (Backlog)

### ğŸš¨ **Ø§ÙˆÙ„ÙˆÛŒØª 1: Ø±ÙØ¹ Ø¨Ø§Ú¯ Schema Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Database**

#### Task 1.1: Ù¾Ø§Ú©â€ŒØ³Ø§Ø²ÛŒ Schema âŒ
- **Ø§Ø±Ø²Ø´ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±:** Ø¨Ø¯ÙˆÙ† Schema ØµØ­ÛŒØ­ØŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø§Ø¬Ø±Ø§ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯
- **ØªØ®Ù…ÛŒÙ† Ø²Ù…Ø§Ù†:** 5 Ø¯Ù‚ÛŒÙ‚Ù‡
- **Ø§Ù‚Ø¯Ø§Ù…Ø§Øª:**
  1. Ø­Ø°Ù Ø®Ø·ÙˆØ· 159-164 Ø§Ø² `supabase_schema.sql`
  2. Ø¨Ø±Ø±Ø³ÛŒ Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ ØªÚ©Ø±Ø§Ø± Ø¯Ø± Ø¬Ø¯Ø§ÙˆÙ„
  3. Validation Ù†Ù‡Ø§ÛŒÛŒ

#### Task 1.2: Ø§Ø¬Ø±Ø§ÛŒ Schema Ø¯Ø± Supabase âŒ
- **Ø§Ø±Ø²Ø´ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±:** ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ ÙˆØ§Ù‚Ø¹ÛŒ
- **ØªØ®Ù…ÛŒÙ† Ø²Ù…Ø§Ù†:** 10 Ø¯Ù‚ÛŒÙ‚Ù‡
- **Ø§Ù‚Ø¯Ø§Ù…Ø§Øª:**
  1. Ù„Ø§Ú¯ÛŒÙ† Ø¨Ù‡ Supabase Dashboard
  2. Ø±ÙØªÙ† Ø¨Ù‡ SQL Editor
  3. Ø§Ø¬Ø±Ø§ÛŒ `supabase_schema.sql`
  4. Ø¨Ø±Ø±Ø³ÛŒ Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Error
  5. ØªØ³Øª Ø§ØªØµØ§Ù„ Ø§Ø² `dbAdapter.ts`

#### Task 1.3: Seed Data (Ø§Ø®ØªÛŒØ§Ø±ÛŒ) âŒ
- **Ø§Ø±Ø²Ø´ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±:** Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡ Ø¨Ø±Ø§ÛŒ ØªØ³Øª
- **ØªØ®Ù…ÛŒÙ† Ø²Ù…Ø§Ù†:** 15 Ø¯Ù‚ÛŒÙ‚Ù‡
- **Ø§Ù‚Ø¯Ø§Ù…Ø§Øª:**
  1. Ø§ÛŒØ¬Ø§Ø¯ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Seed
  2. Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…Ø­ØµÙˆÙ„Ø§Øª Ù†Ù…ÙˆÙ†Ù‡
  3. Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡

---

### âš™ï¸ **Ø§ÙˆÙ„ÙˆÛŒØª 2: ØªÙ†Ø¸ÛŒÙ… Environment Variables**

#### Task 2.1: ØªÙ†Ø¸ÛŒÙ… Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Vercel âŒ
- **Ø§Ø±Ø²Ø´ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±:** Ø¨Ø¯ÙˆÙ† Ø§ÛŒÙ† Ú©Ù„ÛŒØ¯Ù‡Ø§ØŒ AI Ùˆ Payment Ú©Ø§Ø± Ù†Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯
- **ØªØ®Ù…ÛŒÙ† Ø²Ù…Ø§Ù†:** 10 Ø¯Ù‚ÛŒÙ‚Ù‡
- **Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²:**
  ```
  GEMINI_API_KEY=<your_gemini_key>
  ZARINPAL_MERCHANT_ID=<your_merchant_id>
  ZARINPAL_SANDBOX=true
  VITE_SUPABASE_URL=https://sbjrayzghjfsmmuygwbw.supabase.co
  VITE_SUPABASE_ANON_KEY=<your_anon_key>
  ```
- **Ø§Ù‚Ø¯Ø§Ù…Ø§Øª:**
  1. Ù„Ø§Ú¯ÛŒÙ† Ø¨Ù‡ Vercel Dashboard
  2. Ø±ÙØªÙ† Ø¨Ù‡ Settings â†’ Environment Variables
  3. Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ØªÙ…Ø§Ù… Ù…ØªØºÛŒØ±Ù‡Ø§
  4. Redeploy Ù¾Ø±ÙˆÚ˜Ù‡

#### Task 2.2: ØªØ³Øª Ø§ØªØµØ§Ù„ Proxy âŒ
- **ØªØ®Ù…ÛŒÙ† Ø²Ù…Ø§Ù†:** 5 Ø¯Ù‚ÛŒÙ‚Ù‡
- **Ø§Ù‚Ø¯Ø§Ù…Ø§Øª:**
  1. Ø§Ø±Ø³Ø§Ù„ ÛŒÚ© Ø¯Ø±Ø®ÙˆØ§Ø³Øª ØªØ³ØªÛŒ Ø¨Ù‡ `/api/proxy`
  2. Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù¾Ø§Ø³Ø® Ø§Ø² Gemini
  3. Ø¨Ø±Ø±Ø³ÛŒ Console Ø¨Ø±Ø§ÛŒ Errors

#### Task 2.3: ØªÙ†Ø¸ÛŒÙ… AI Image Agent Keys âŒ
- **Ø§Ø±Ø²Ø´ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±:** ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ù‚Ø§Ø¨Ù„ÛŒØª ØªÙˆÙ„ÛŒØ¯ ØªØµÙˆÛŒØ± Ù‡ÙˆØ´Ù…Ù†Ø¯
- **ØªØ®Ù…ÛŒÙ† Ø²Ù…Ø§Ù†:** 10 Ø¯Ù‚ÛŒÙ‚Ù‡
- **Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²:**
  ```env
  NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=<your_cloud_name>
  CLOUDINARY_API_KEY=<your_api_key>
  CLOUDINARY_API_SECRET=<your_api_secret>
  OPENAI_API_KEY=<your_openai_key>
  ```
- **Ø§Ù‚Ø¯Ø§Ù…Ø§Øª:**
  1. Ø³Ø§Ø®Øª Ø§Ú©Ø§Ù†Øª Cloudinary (Free Tier)
  2. Ø¯Ø±ÛŒØ§ÙØª Ú©Ù„ÛŒØ¯Ù‡Ø§ Ø§Ø² Dashboard
  3. Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ù‡ Vercel Environment Variables

---

### ğŸ§ª **Ø§ÙˆÙ„ÙˆÛŒØª 3: ØªØ³Øª End-to-End**

#### Task 3.1: ØªØ³Øª ÙÙ„Ùˆ Ø®Ø±ÛŒØ¯ âŒ
- **Ø§Ø±Ø²Ø´ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±:** Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø¹Ù…Ù„Ú©Ø±Ø¯ ØµØ­ÛŒØ­ Ù‚Ø¨Ù„ Ø§Ø² Ù„Ø§Ù†Ú†
- **ØªØ®Ù…ÛŒÙ† Ø²Ù…Ø§Ù†:** 20 Ø¯Ù‚ÛŒÙ‚Ù‡
- **Ø³Ù†Ø§Ø±ÛŒÙˆ:**
  1. ÙˆØ±ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø± (Ù„Ø§Ú¯ÛŒÙ†/Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…)
  2. Ù…Ø±ÙˆØ± ÙØ±ÙˆØ´Ú¯Ø§Ù‡
  3. Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…Ø­ØµÙˆÙ„ Ø¨Ù‡ Ø³Ø¨Ø¯
  4. Ø±ÙØªÙ† Ø¨Ù‡ Checkout
  5. Ù¾Ø±Ø¯Ø§Ø®Øª (Sandbox)
  6. Ø¨Ø±Ø±Ø³ÛŒ Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´ Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³
  7. Ø¨Ø±Ø±Ø³ÛŒ Ø«Ø¨Øª Impact Log

#### Task 3.2: ØªØ³Øª LMS (Ø¢Ú©Ø§Ø¯Ù…ÛŒ) âŒ
- **ØªØ®Ù…ÛŒÙ† Ø²Ù…Ø§Ù†:** 15 Ø¯Ù‚ÛŒÙ‚Ù‡
- **Ø³Ù†Ø§Ø±ÛŒÙˆ:**
  1. Ù…Ø±ÙˆØ± Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§
  2. Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¯Ø± Ø¯ÙˆØ±Ù‡
  3. Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¯Ø±Ø³
  4. ØªÚ©Ù…ÛŒÙ„ Ø¯Ø±Ø³
  5. Ø¨Ø±Ø±Ø³ÛŒ Ø«Ø¨Øª Ù¾ÛŒØ´Ø±ÙØª Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³

#### Task 3.3: ØªØ³Øª AI Features âŒ
- **ØªØ®Ù…ÛŒÙ† Ø²Ù…Ø§Ù†:** 15 Ø¯Ù‚ÛŒÙ‚Ù‡
- **Ø³Ù†Ø§Ø±ÛŒÙˆ:**
  1. Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ú†Øª AI
  2. Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…
  3. Ø¯Ø±ÛŒØ§ÙØª Ù¾Ø§Ø³Ø®
  4. ØªØ³Øª ØªÙˆÙ„ÛŒØ¯ ØªØµÙˆÛŒØ± (Imagen)
  5. ØªØ³Øª ØªÙˆÙ„ÛŒØ¯ ÙˆÛŒØ¯ÛŒÙˆ (Veo)

---

### âš¡ **Ø§ÙˆÙ„ÙˆÛŒØª 4: Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Performance**

#### Task 4.1: Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ ØªØµØ§ÙˆÛŒØ± âŒ
- **Ø§Ø±Ø²Ø´ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±:** Ø³Ø±Ø¹Øª Ø¨Ø§Ù„Ø§ØªØ± â†’ ØªØ¬Ø±Ø¨Ù‡ Ø¨Ù‡ØªØ± â†’ Retention Ø¨ÛŒØ´ØªØ±
- **ØªØ®Ù…ÛŒÙ† Ø²Ù…Ø§Ù†:** 30 Ø¯Ù‚ÛŒÙ‚Ù‡
- **Ø§Ù‚Ø¯Ø§Ù…Ø§Øª:**
  1. ØªØ¨Ø¯ÛŒÙ„ ØªØµØ§ÙˆÛŒØ± PNG/JPG Ø¨Ù‡ WebP
  2. Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Lazy Loading Ø¨Ø±Ø§ÛŒ Images
  3. Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `srcset` Ø¨Ø±Ø§ÛŒ Responsive Images

#### Task 4.2: Code Splitting Ù¾ÛŒØ´Ø±ÙØªÙ‡ âŒ
- **ØªØ®Ù…ÛŒÙ† Ø²Ù…Ø§Ù†:** 20 Ø¯Ù‚ÛŒÙ‚Ù‡
- **Ø§Ù‚Ø¯Ø§Ù…Ø§Øª:**
  1. ØªØ­Ù„ÛŒÙ„ Bundle Size
  2. Split Ú©Ø±Ø¯Ù† Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øªâ€ŒÙ‡Ø§ÛŒ Ø³Ù†Ú¯ÛŒÙ†
  3. Dynamic Import Ø¨Ø±Ø§ÛŒ Routes

---

### ğŸš€ **Ø§ÙˆÙ„ÙˆÛŒØª 5: Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Production**

#### Task 5.1: SEO Optimization âŒ
- **ØªØ®Ù…ÛŒÙ† Ø²Ù…Ø§Ù†:** 30 Ø¯Ù‚ÛŒÙ‚Ù‡
- **Ø§Ù‚Ø¯Ø§Ù…Ø§Øª:**
  1. Ø¨Ø±Ø±Ø³ÛŒ `sitemap.xml`
  2. Ø¨Ø±Ø±Ø³ÛŒ `robots.txt`
  3. Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Meta Tags
  4. Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Schema.org Markup

#### Task 5.2: Security Audit âŒ
- **ØªØ®Ù…ÛŒÙ† Ø²Ù…Ø§Ù†:** 45 Ø¯Ù‚ÛŒÙ‚Ù‡
- **Ø§Ù‚Ø¯Ø§Ù…Ø§Øª:**
  1. Ø¨Ø±Ø±Ø³ÛŒ RLS Policies
  2. Ø¨Ø±Ø±Ø³ÛŒ CORS Settings
  3. Ø¨Ø±Ø±Ø³ÛŒ API Rate Limiting
  4. Ø¨Ø±Ø±Ø³ÛŒ Input Validation

#### Task 5.3: Monitoring Setup âŒ
- **ØªØ®Ù…ÛŒÙ† Ø²Ù…Ø§Ù†:** 30 Ø¯Ù‚ÛŒÙ‚Ù‡
- **Ø§Ù‚Ø¯Ø§Ù…Ø§Øª:**
  1. Ù†ØµØ¨ Sentry
  2. ØªÙ†Ø¸ÛŒÙ… Error Tracking
  3. ØªÙ†Ø¸ÛŒÙ… Performance Monitoring

---

## ğŸš¨ Ù…Ø´Ú©Ù„Ø§Øª Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø´Ø¯Ù‡ (Issues)

### Issue #1: Schema Duplication âš ï¸
- **ÙØ§ÛŒÙ„:** `supabase_schema.sql`
- **Ø®Ø·ÙˆØ·:** 159-164
- **ØªÙˆØ¶ÛŒØ­:** Ø¬Ø¯ÙˆÙ„ `crowdfunds` Ø¯ÙˆØ¨Ø§Ø± ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ (ÛŒÚ©ÛŒ Ù†Ø§Ù‚Øµ)
- **Ø§ÙˆÙ„ÙˆÛŒØª:** Ø¨Ø§Ù„Ø§
- **ÙˆØ¶Ø¹ÛŒØª:** Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø´Ø¯Ù‡ - Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø±ÙØ¹

### Issue #2: Missing Environment Variables âš ï¸
- **ØªÙˆØ¶ÛŒØ­:** Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ API Ø¯Ø± Environment Variables ØªÙ†Ø¸ÛŒÙ… Ù†Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯
- **ØªØ£Ø«ÛŒØ±:** AI Ùˆ Payment Ú©Ø§Ø± Ù†Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯
- **Ø§ÙˆÙ„ÙˆÛŒØª:** Ø¨Ø§Ù„Ø§
- **ÙˆØ¶Ø¹ÛŒØª:** Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø´Ø¯Ù‡ - Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªÙ†Ø¸ÛŒÙ…

---

## ğŸ¯ Ù…Ø³ÛŒØ± Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ (Next Steps)

### Ø§Ù…Ø±ÙˆØ² (2025-12-11)
1. âœ… Ø§ÛŒØ¬Ø§Ø¯ MANA_MEMORY.md
2. â³ Ø±ÙØ¹ Ø¨Ø§Ú¯ Schema (Task 1.1)
3. â³ Ø§Ø¬Ø±Ø§ÛŒ Schema Ø¯Ø± Supabase (Task 1.2)
4. â³ ØªÙ†Ø¸ÛŒÙ… Environment Variables (Task 2.1)

### ÙØ±Ø¯Ø§ (2025-12-12)
1. ØªØ³Øª End-to-End Ú©Ø§Ù…Ù„ (Tasks 3.1, 3.2, 3.3)
2. Ø±ÙØ¹ Ø¨Ø§Ú¯â€ŒÙ‡Ø§ÛŒ ÛŒØ§ÙØª Ø´Ø¯Ù‡

### Ø§ÛŒÙ† Ù‡ÙØªÙ‡
1. Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Performance (Tasks 4.1, 4.2)
2. SEO Optimization (Task 5.1)
3. Security Audit (Task 5.2)

### Ù‡ÙØªÙ‡ Ø¢ÛŒÙ†Ø¯Ù‡
1. Monitoring Setup (Task 5.3)
2. Ù„Ø§Ù†Ú† Beta Ø¨Ø±Ø§ÛŒ 10-20 Ú©Ø§Ø±Ø¨Ø±
3. Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Feedback

---

## ğŸ“ˆ Ù…ØªØ±ÛŒÚ©â€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ (KPIs)

| Ù…ØªØ±ÛŒÚ© | Ù‡Ø¯Ù | ÙˆØ¶Ø¹ÛŒØª ÙØ¹Ù„ÛŒ |
|-------|-----|-----------|
| **Database Uptime** | 99.9% | - (Ù‡Ù†ÙˆØ² Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù†Ø´Ø¯Ù‡) |
| **API Response Time** | <500ms | - (Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ³Øª) |
| **Payment Success Rate** | >95% | - (Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ³Øª) |
| **Page Load Time** | <2s | ~1.5s (Ø®ÙˆØ¨) |
| **Lighthouse Score** | >90 | - (Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ³Øª) |

---

## ğŸ”— Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ù…Ù‡Ù…

- **Supabase Dashboard:** https://app.supabase.com/project/sbjrayzghjfsmmuygwbw
- **Vercel Dashboard:** (Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù„ÛŒÙ†Ú©)
- **ZarinPal Dashboard:** (Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù„ÛŒÙ†Ú©)
- **Google AI Studio:** https://aistudio.google.com/

---

## ğŸ“ ÛŒØ§Ø¯Ø¯Ø§Ø´Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ù‡Ù…

### ØªØµÙ…ÛŒÙ…Ø§Øª Ù…Ø¹Ù…Ø§Ø±ÛŒ
1. **Ú†Ø±Ø§ SupabaseØŸ** 
   - PostgreSQL Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯
   - RLS Ø¯Ø§Ø®Ù„ÛŒ
   - Auth Ùˆ Storage ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡
   - Ù…Ù‚ÛŒØ§Ø³â€ŒÙ¾Ø°ÛŒØ±ÛŒ Ø¢Ø³Ø§Ù†

2. **Ú†Ø±Ø§ Proxy Ø¨Ø±Ø§ÛŒ AIØŸ**
   - Ø§Ù…Ù†ÛŒØª API Key
   - Rate Limiting Ù…ØªÙ…Ø±Ú©Ø²
   - Logging Ùˆ Monitoring

3. **Ú†Ø±Ø§ ZarinPalØŸ**
   - Ù¾Ø±Ø¯Ø§Ø®Øª Ø±ÛŒØ§Ù„ÛŒ
   - Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø§ÛŒØ±Ø§Ù†ÛŒ
   - Sandbox Ø¨Ø±Ø§ÛŒ ØªØ³Øª

### Ù†Ú©Ø§Øª ÙÙ†ÛŒ
- Ù‡Ù…ÛŒØ´Ù‡ Ø§Ø² `dbAdapter.isLive()` Ø¨Ø±Ø§ÛŒ Ú†Ú© Ú©Ø±Ø¯Ù† Ø§ØªØµØ§Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯
- ØªÙ…Ø§Ù… ØªØºÛŒÛŒØ±Ø§Øª Schema Ø¨Ø§ÛŒØ¯ Ø¨Ø§ Migration Ù…Ø¯ÛŒØ±ÛŒØª Ø´ÙˆÙ†Ø¯
- API Keys Ù‡Ø±Ú¯Ø² Ù†Ø¨Ø§ÛŒØ¯ Ø¯Ø± Frontend Ù‚Ø±Ø§Ø± Ú¯ÛŒØ±Ù†Ø¯

---

## ğŸ”„ ØªØ§Ø±ÛŒØ®Ú†Ù‡ ØªØºÛŒÛŒØ±Ø§Øª

| ØªØ§Ø±ÛŒØ® | ØªØºÛŒÛŒØ± | ØªÙˆØ³Ø· |
|-------|-------|------|
| 2025-12-25 17:00 | **Auth Cleanup**: Removed "Test Login", enabled real Google OAuth, verified SMS login locally, configured Vercel Env Vars. | Mana (Unified OS) |
| 2025-12-24 20:00 | **Fix**: Removed duplicate `Header`, `Footer`, `LiveActivityBanner` from `App.tsx` (Legacy) -> Unified in `ClientWrapper` | Mana (Unified OS) |
| 2025-12-22 19:30 | **âœ… AI Fixed**: Switched to `mistralai/devstral-2512:free` via OpenRouter (Google quota=0, tested models) | Mana (Unified OS) |
| 2025-12-22 18:55 | **Debugging**: Hardcoded Proxy to use `gemini-2.0-flash-exp` strictly (Ignoring frontend model requests to prevent 404s) | Mana (Unified OS) |
| 2025-12-22 18:50 | **Debugging**: Forced Google Provider (`gemini-2.0-flash-exp`) in Proxy because OpenRouter Key seems invalid/broken | Mana (Unified OS) |
| 2025-12-22 18:45 | **Debugging**: Disabled Google Fallback logic (since Quota is 0) to expose real OpenRouter errors | Mana (Unified OS) |
| 2025-12-22 18:40 | **Config Change**: Switched AI to **OpenRouter** (`google/gemini-2.0-flash-exp:free`) to bypass Google Direct Quota (Limit: 0) | Mana (Unified OS) |
| 2025-12-22 18:20 | **Security**: Rotated Gemini API Key (Previous key was revoked by Google) | Mana (Unified OS) |
| 2025-12-22 18:15 | **Bug Fix**: Updated AI Models to `gemini-2.0-flash` (Fixed 404 on deprecated 1.5-flash) | Mana (Unified OS) |
| 2025-12-22 18:05 | **Config Fix**: Corrected malformed OpenRouter Key & Added VITE_GEMINI_API_KEY to .env | Mana (Unified OS) |
| 2025-12-22 18:00 | **Stability**: Enhanced AI Assistant robustness (Added Client-Side Fallback for Local Proxy failures) | Mana (Unified OS) |
| 2025-12-22 17:55 | **Bug Fix**: Fix Google Auth Redirect (Auto-navigate to Profile after OAuth) | Mana (Unified OS) |
| 2025-12-22 17:45 | **UI/UX Refinement**: Fix Header Overlap & Crash Handler (pt-32, process.env polyfill) | Mana (Unified OS) |
| 2025-12-15 17:45 | **PRODUCTION LAUNCH**: Ù†Ø®Ù„Ø³ØªØ§Ù† Ù…Ø¹Ù†Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ù„Ø§Ù†Ú† Ø´Ø¯ (V5.1) | Mana (Unified OS) |
| 2025-12-15 17:28 | Vercel Fix: ØªÙ†Ø¸ÛŒÙ… Ø¯Ù‚ÛŒÙ‚ vite.config.ts Ø¨Ø±Ø§ÛŒ Ø±ÙØ¹ Ø®Ø·Ø§ÛŒ Build | Mana (Unified OS) |
| 2025-12-15 16:35 | Security Hardening: Ø­Ø°Ù Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ Ù‡Ø§Ø±Ø¯Ú©Ø¯ØŒ Refactor Ú©Ø§Ù…Ù„ Auth Flow Ø¨Ø±Ø§ÛŒ Ø±ÙØ¹ Race Condition | Mana (CTO) |
| 2025-12-13 14:35 | Ø±ÙØ¹ Ú©Ø§Ù…Ù„ Ù…Ø´Ú©Ù„ Ù„Ø§Ú¯ÛŒÙ† Ú¯ÙˆÚ¯Ù„ (Auth Listener + API Key) | Mana (CTO) |
| 2025-12-11 12:49 | ØªØ£ÛŒÛŒØ¯ Database - 16 Ø¬Ø¯ÙˆÙ„ Ù…ÙˆØ¬ÙˆØ¯ | Mana (CTO) |
| 2025-12-11 12:30 | Ø±ÙØ¹ Ø¨Ø§Ú¯ Schema Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ø±Ø§Ù‡Ù†Ù…Ø§Ù‡Ø§ÛŒ Deployment | Mana (CTO) |
| 2025-12-11 12:24 | Ø§ÛŒØ¬Ø§Ø¯ MANA_MEMORY.md | Mana (CTO) |
| 2025-12-10 | Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Database Adapter | Mana (CTO) |
| 2025-12-10 | Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ AI Proxy | Mana (CTO) |
| 2025-12-10 | Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Payment Gateway | Mana (CTO) |

---

**ğŸŒ´ Ø§ÛŒÙ† Ø­Ø§ÙØ¸Ù‡ Ø²Ù†Ø¯Ù‡ Ø§Ø³Øª Ùˆ Ø¨Ø§ Ù‡Ø± Ù¾ÛŒØ´Ø±ÙØª Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯.**

---

### ğŸ›ï¸ Grandmaster Architect Audit (V5.3)

**Current System Status:**
- **Core Stability**: âœ… High. The application loads reliably on port 3001.
- **UI Architecture**: âš ï¸ **Hybrid**. We are bypassing the Next.js build pipeline for CSS in favor of a runtime CDN.
    - *Pro*: Zero build time for styles, instant feedback, no config hell.
    - *Con*: Larger value payload (downloading full Tailwind engine), no tree-shaking (unused styles included).
- **UX Integrity**: âœ… **Restored**. The "Portal Strategy" for `WelcomeTour` guarantees visibility over all z-index layers.
- **Code Hygiene**: âš ï¸ **Mixed**. We have `type: module` in `package.json` but some tools expect CommonJS. Thread carefully with new dependencies.

**Strategic Recommendations:**
1.  **Accept the Hybrid State**: Do not attempt to revert to local Tailwind build until the project is ready for production optimization. The current velocity is more valuable than CSS bundle size.
2.  **Portal Everything**: Use the `WelcomeTour` pattern (React Portal) for all future Modals, Toasts, and Overlays to avoid stacking context wars.
3.  **Cleanup Debt**: In the next sprint, remove `postcss.config.mjs` and related failed build artifacts to verify no "dead code" confusion remains.


| 2025-12-24 20:45 | **UI/UX Fix Attempt**: Converted `PalmSelectionModal` and `ShoppingCart` to static imports and wrapped `GlobalModals` in React Portal to fix z-index/visibility issues. (Status: Issue Persists) | Mana (Unified OS) |
| 2025-12-24 20:15 | **Auth & UI**: Added SMS OTP (Set Password), fixed `reduce` crash in Header, fixed duplicate Header rendering. | Mana (Unified OS) |

---

### ğŸš¨ Critical Blocking Issue (2025-12-24)
- **Problem:** The "Planting Flow" (PalmSelectionModal) and "Shopping Cart" interactions are failing to show visible UI, despite the state (`isOpen`) theoretically changing.
- **Attempts:**
    1.  Switched from `React.lazy` to static imports (to rule out loading errors).
    2.  Wrapped visual layer in `createPortal(..., document.body)` (to rule out z-index/stacking context).
- **Hypothesis:** The issue might be related to:
    -   `GlobalModals` component not re-rendering correctly on context updates.
    -   A global CSS rule (e.g., in `globals.css` or `ClientWrapper`) inadvertently hiding the portal container.
    -   The `AppContext` dispatch not correctly propagating to the `GlobalModals` consumer.
- **Next Action:** Trace the `dispatch` event flow and inspecting the DOM for the existence of the Portal node.
